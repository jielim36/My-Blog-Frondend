{"ast":null,"code":"import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useToken } from \"./TokenProvider\";\nconst BASE_URL = \"http://localhost:8080\";\nconst controller = new AbortController();\nexport const axObj = axios.create({\n  baseURL: BASE_URL,\n  signal: controller.signal\n});\naxObj.interceptors.request.use(config => {\n  // 在这里查看请求的所有信息\n  console.log(\"Request Config:\", config);\n\n  // 返回配置，以便请求继续发送\n  return config;\n}, error => {\n  // 请求错误时执行\n  console.error(\"Request Error:\", error);\n  return Promise.reject(error);\n});\n\n// 响应拦截器：在响应被处理之前执行\naxObj.interceptors.response.use(response => {\n  // 在这里查看响应的所有信息\n  console.log(\"Response Data:\", response.data);\n  console.log(\"Response Status:\", response.status);\n  console.log(\"Response Headers:\", response.headers);\n\n  // 返回响应，以便继续处理\n  return response;\n}, error => {\n  // 响应错误时执行\n  console.error(\"Response Error:\", error);\n  return Promise.reject(error);\n});\nexport const fetchArticleById = async ({\n  queryKey\n}) => {\n  const [_key, path] = queryKey;\n  const response = await axObj.get(path);\n  return response.data;\n};\nexport const fetchArticlesByLimit = async ({\n  queryKey\n}) => {\n  const [_key, fetchArticlesByLimitPath] = queryKey;\n  const response = await axObj.get(fetchArticlesByLimitPath);\n  return response.data;\n};\nexport const fetchArticlesNumber = async ({\n  queryKey\n}) => {\n  const [_key, path] = queryKey;\n  const response = await axObj.get(path);\n  return response.data;\n};\nexport const updateArticleById = async ({\n  newData\n}) => {\n  const {\n    path,\n    updateData\n  } = newData;\n  console.log(`http://localhost:8080${path}`);\n  console.log(updateData);\n  const response = await axObj.put(path, updateData);\n  return response.data;\n};\nexport const fetchTrendingArticlesByLimit = async ({\n  queryKey\n}) => {\n  const [_key, fetchArticlesByLimitPath] = queryKey;\n  const response = await axObj.get(fetchArticlesByLimitPath);\n  return response.data;\n};\nexport const fetchArticlesByContent = async ({\n  queryKey\n}) => {\n  const [_key, Path] = queryKey;\n  const response = await axObj.get(Path);\n  return response.data;\n};\nexport const fetchArticlesTitleByLimit = async ({\n  queryKey\n}) => {\n  const [_key, Path] = queryKey;\n  const response = await axObj.get(Path);\n  return response.data;\n};\nconst config = {\n  headers: {\n    'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqaWVsaW0wMEBnbWFpb…E2MX0.okzjYd-Reri_UpP6NqogMjuKBSBI4uoIELKRU2szOQ0`,\n    'Content-Type': 'application/json'\n  }\n};\nexport const fetchArticlesByAuthorId = async ({\n  queryKey\n}) => {\n  const [_key, data] = queryKey;\n  const response = await axObj.get(data, config);\n  return response.data;\n};\nexport const fetchUserById = async ({\n  queryKey\n}) => {\n  const [_key, data] = queryKey;\n  const response = await axObj.get(data);\n  return response.data;\n};\nexport const loginRequest = async data => {\n  const response = await axObj.post('/users/login', data);\n  localStorage.setItem('token', response.data);\n  return response;\n};","map":{"version":3,"names":["React","useState","axios","useToken","BASE_URL","controller","AbortController","axObj","create","baseURL","signal","interceptors","request","use","config","console","log","error","Promise","reject","response","data","status","headers","fetchArticleById","queryKey","_key","path","get","fetchArticlesByLimit","fetchArticlesByLimitPath","fetchArticlesNumber","updateArticleById","newData","updateData","put","fetchTrendingArticlesByLimit","fetchArticlesByContent","Path","fetchArticlesTitleByLimit","fetchArticlesByAuthorId","fetchUserById","loginRequest","post","localStorage","setItem"],"sources":["C:/Users/jieli/Desktop/Coding/Project/MyBlog/Frontend/my-blog/src/Components/FetchAPI.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useToken } from \"./TokenProvider\";\r\n\r\nconst BASE_URL = \"http://localhost:8080\";\r\nconst controller = new AbortController();\r\nexport const axObj = axios.create({\r\n  baseURL: BASE_URL,\r\n  signal: controller.signal\r\n});\r\n\r\naxObj.interceptors.request.use(\r\n  (config) => {\r\n    // 在这里查看请求的所有信息\r\n    console.log(\"Request Config:\", config);\r\n\r\n    // 返回配置，以便请求继续发送\r\n    return config;\r\n  },\r\n  (error) => {\r\n    // 请求错误时执行\r\n    console.error(\"Request Error:\", error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// 响应拦截器：在响应被处理之前执行\r\naxObj.interceptors.response.use(\r\n  (response) => {\r\n    // 在这里查看响应的所有信息\r\n    console.log(\"Response Data:\", response.data);\r\n    console.log(\"Response Status:\", response.status);\r\n    console.log(\"Response Headers:\", response.headers);\r\n\r\n    // 返回响应，以便继续处理\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // 响应错误时执行\r\n    console.error(\"Response Error:\", error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const fetchArticleById = async ({queryKey}) => {\r\n  const [_key, path] = queryKey;\r\n  const response = await axObj.get(path);\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesByLimit = async ({ queryKey }) => {\r\n  const [_key, fetchArticlesByLimitPath] = queryKey;\r\n  const response = await axObj.get(fetchArticlesByLimitPath)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesNumber = async ({queryKey}) => {\r\n    const [_key, path] = queryKey;\r\n    const response = await axObj.get(path);\r\n    return response.data;\r\n};\r\n\r\nexport const updateArticleById = async ({newData}) => {\r\n    const {path , updateData} = newData;\r\n    console.log(`http://localhost:8080${path}`);\r\n    console.log(updateData);\r\n    const response = await axObj.put(path,updateData);\r\n    return response.data;\r\n};\r\n\r\nexport const fetchTrendingArticlesByLimit = async ({ queryKey }) => {\r\n  const [_key, fetchArticlesByLimitPath] = queryKey;\r\n  const response = await axObj.get(fetchArticlesByLimitPath)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesByContent = async ({ queryKey }) => {\r\n  const [_key, Path] = queryKey;\r\n  const response = await axObj.get(Path)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesTitleByLimit = async ({ queryKey }) => {\r\n  const [_key, Path] = queryKey;\r\n  const response = await axObj.get(Path)\r\n  return response.data;\r\n};\r\n\r\nconst config = {\r\n  headers: {\r\n    'Authorization': `Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJqaWVsaW0wMEBnbWFpb…E2MX0.okzjYd-Reri_UpP6NqogMjuKBSBI4uoIELKRU2szOQ0`,\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport const fetchArticlesByAuthorId = async ({queryKey}) => {\r\n  const [_key, data] = queryKey;\r\n  const response = await axObj.get(data,config);\r\n  return response.data;\r\n};\r\n\r\nexport const fetchUserById = async ({queryKey}) => {\r\n  const [_key, data] = queryKey;\r\n  const response = await axObj.get(data);\r\n  return response.data;\r\n};\r\n\r\nexport const loginRequest = async (data) => {\r\n    const response = await axObj.post('/users/login', data)\r\n    localStorage.setItem('token',response.data);\r\n    return response;\r\n};"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,iBAAiB;AAE1C,MAAMC,QAAQ,GAAG,uBAAuB;AACxC,MAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;AACxC,OAAO,MAAMC,KAAK,GAAGL,KAAK,CAACM,MAAM,CAAC;EAChCC,OAAO,EAAEL,QAAQ;EACjBM,MAAM,EAAEL,UAAU,CAACK;AACrB,CAAC,CAAC;AAEFH,KAAK,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC3BC,MAAM,IAAK;EACV;EACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,MAAM,CAAC;;EAEtC;EACA,OAAOA,MAAM;AACf,CAAC,EACAG,KAAK,IAAK;EACT;EACAF,OAAO,CAACE,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;EACtC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAV,KAAK,CAACI,YAAY,CAACS,QAAQ,CAACP,GAAG,CAC5BO,QAAQ,IAAK;EACZ;EACAL,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEI,QAAQ,CAACC,IAAI,CAAC;EAC5CN,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEI,QAAQ,CAACE,MAAM,CAAC;EAChDP,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEI,QAAQ,CAACG,OAAO,CAAC;;EAElD;EACA,OAAOH,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EACT;EACAF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;EACvC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AASD,OAAO,MAAMO,gBAAgB,GAAG,MAAAA,CAAO;EAACC;AAAQ,CAAC,KAAK;EACpD,MAAM,CAACC,IAAI,EAAEC,IAAI,CAAC,GAAGF,QAAQ;EAC7B,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACD,IAAI,CAAC;EACtC,OAAOP,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,OAAO,MAAMQ,oBAAoB,GAAG,MAAAA,CAAO;EAAEJ;AAAS,CAAC,KAAK;EAC1D,MAAM,CAACC,IAAI,EAAEI,wBAAwB,CAAC,GAAGL,QAAQ;EACjD,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACE,wBAAwB,CAAC;EAC1D,OAAOV,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,OAAO,MAAMU,mBAAmB,GAAG,MAAAA,CAAO;EAACN;AAAQ,CAAC,KAAK;EACrD,MAAM,CAACC,IAAI,EAAEC,IAAI,CAAC,GAAGF,QAAQ;EAC7B,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACD,IAAI,CAAC;EACtC,OAAOP,QAAQ,CAACC,IAAI;AACxB,CAAC;AAED,OAAO,MAAMW,iBAAiB,GAAG,MAAAA,CAAO;EAACC;AAAO,CAAC,KAAK;EAClD,MAAM;IAACN,IAAI;IAAGO;EAAU,CAAC,GAAGD,OAAO;EACnClB,OAAO,CAACC,GAAG,CAAE,wBAAuBW,IAAK,EAAC,CAAC;EAC3CZ,OAAO,CAACC,GAAG,CAACkB,UAAU,CAAC;EACvB,MAAMd,QAAQ,GAAG,MAAMb,KAAK,CAAC4B,GAAG,CAACR,IAAI,EAACO,UAAU,CAAC;EACjD,OAAOd,QAAQ,CAACC,IAAI;AACxB,CAAC;AAED,OAAO,MAAMe,4BAA4B,GAAG,MAAAA,CAAO;EAAEX;AAAS,CAAC,KAAK;EAClE,MAAM,CAACC,IAAI,EAAEI,wBAAwB,CAAC,GAAGL,QAAQ;EACjD,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACE,wBAAwB,CAAC;EAC1D,OAAOV,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,OAAO,MAAMgB,sBAAsB,GAAG,MAAAA,CAAO;EAAEZ;AAAS,CAAC,KAAK;EAC5D,MAAM,CAACC,IAAI,EAAEY,IAAI,CAAC,GAAGb,QAAQ;EAC7B,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACU,IAAI,CAAC;EACtC,OAAOlB,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,OAAO,MAAMkB,yBAAyB,GAAG,MAAAA,CAAO;EAAEd;AAAS,CAAC,KAAK;EAC/D,MAAM,CAACC,IAAI,EAAEY,IAAI,CAAC,GAAGb,QAAQ;EAC7B,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACU,IAAI,CAAC;EACtC,OAAOlB,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,MAAMP,MAAM,GAAG;EACbS,OAAO,EAAE;IACP,eAAe,EAAG,6GAA4G;IAC9H,cAAc,EAAE;EAClB;AACF,CAAC;AAED,OAAO,MAAMiB,uBAAuB,GAAG,MAAAA,CAAO;EAACf;AAAQ,CAAC,KAAK;EAC3D,MAAM,CAACC,IAAI,EAAEL,IAAI,CAAC,GAAGI,QAAQ;EAC7B,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACP,IAAI,EAACP,MAAM,CAAC;EAC7C,OAAOM,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,OAAO,MAAMoB,aAAa,GAAG,MAAAA,CAAO;EAAChB;AAAQ,CAAC,KAAK;EACjD,MAAM,CAACC,IAAI,EAAEL,IAAI,CAAC,GAAGI,QAAQ;EAC7B,MAAML,QAAQ,GAAG,MAAMb,KAAK,CAACqB,GAAG,CAACP,IAAI,CAAC;EACtC,OAAOD,QAAQ,CAACC,IAAI;AACtB,CAAC;AAED,OAAO,MAAMqB,YAAY,GAAG,MAAOrB,IAAI,IAAK;EACxC,MAAMD,QAAQ,GAAG,MAAMb,KAAK,CAACoC,IAAI,CAAC,cAAc,EAAEtB,IAAI,CAAC;EACvDuB,YAAY,CAACC,OAAO,CAAC,OAAO,EAACzB,QAAQ,CAACC,IAAI,CAAC;EAC3C,OAAOD,QAAQ;AACnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}