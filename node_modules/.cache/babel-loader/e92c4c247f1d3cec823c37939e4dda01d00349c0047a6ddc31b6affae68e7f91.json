{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useToken } from \"./TokenProvider\";\nconst BASE_URL = \"http://localhost:8080\";\nconst controller = new AbortController();\nconst axObj = axios.create({\n  baseURL: BASE_URL,\n  signal: controller.signal\n});\nexport const axiosPrivate = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true\n});\nexport const fetchArticleById = async ({\n  queryKey\n}) => {\n  const [_key, path] = queryKey;\n  const response = await axObj.get(path);\n  return response.data;\n};\nexport const fetchArticlesByLimit = async ({\n  queryKey\n}) => {\n  const [_key, fetchArticlesByLimitPath] = queryKey;\n  const response = await axObj.get(fetchArticlesByLimitPath);\n  return response.data;\n};\nexport const fetchArticlesNumber = async ({\n  queryKey\n}) => {\n  const [_key, path] = queryKey;\n  const response = await axObj.get(path);\n  return response.data;\n};\nexport const updateArticleById = async ({\n  newData\n}) => {\n  const {\n    path,\n    updateData\n  } = newData;\n  console.log(`http://localhost:8080${path}`);\n  console.log(updateData);\n  const response = await axObj.put(path, updateData);\n  return response.data;\n};\nexport const fetchTrendingArticlesByLimit = async ({\n  queryKey\n}) => {\n  const [_key, fetchArticlesByLimitPath] = queryKey;\n  const response = await axObj.get(fetchArticlesByLimitPath);\n  return response.data;\n};\nexport const fetchArticlesByContent = async ({\n  queryKey\n}) => {\n  const [_key, Path] = queryKey;\n  const response = await axObj.get(Path);\n  return response.data;\n};\nexport const fetchArticlesTitleByLimit = async ({\n  queryKey\n}) => {\n  const [_key, Path] = queryKey;\n  const response = await axObj.get(Path);\n  return response.data;\n};\nexport const fetchUserById = async ({\n  queryKey\n}) => {\n  const [_key, data] = queryKey;\n  const response = await axObj.get(data);\n  return response.data;\n};\nexport const loginRequest = async data => {\n  _s();\n  const {\n    setToken\n  } = useToken();\n  try {\n    const response = await axObj.post('/users/login', data);\n    const {\n      newToken\n    } = response.data;\n    setToken(newToken);\n    return response;\n  } catch (error) {\n    console.error(\"Login Failed\", error);\n    throw error;\n  }\n};\n_s(loginRequest, \"ZBiAx/OzfxXhgveq0xm5owfyl9A=\", false, function () {\n  return [useToken];\n});","map":{"version":3,"names":["axios","useToken","BASE_URL","controller","AbortController","axObj","create","baseURL","signal","axiosPrivate","headers","withCredentials","fetchArticleById","queryKey","_key","path","response","get","data","fetchArticlesByLimit","fetchArticlesByLimitPath","fetchArticlesNumber","updateArticleById","newData","updateData","console","log","put","fetchTrendingArticlesByLimit","fetchArticlesByContent","Path","fetchArticlesTitleByLimit","fetchUserById","loginRequest","_s","setToken","post","newToken","error"],"sources":["C:/Users/jieli/Desktop/Coding/Project/MyBlog/Frontend/my-blog/src/Components/FetchAPI.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useToken } from \"./TokenProvider\";\r\n\r\nconst BASE_URL = \"http://localhost:8080\";\r\nconst controller = new AbortController();\r\nconst axObj = axios.create({\r\n  baseURL: BASE_URL,\r\n  signal: controller.signal\r\n});\r\n\r\nexport const axiosPrivate = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {'Content-Type':'application/json'},\r\n  withCredentials: true\r\n});\r\n\r\n\r\nexport const fetchArticleById = async ({queryKey}) => {\r\n  const [_key, path] = queryKey;\r\n  const response = await axObj.get(path);\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesByLimit = async ({ queryKey }) => {\r\n  const [_key, fetchArticlesByLimitPath] = queryKey;\r\n  const response = await axObj.get(fetchArticlesByLimitPath)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesNumber = async ({queryKey}) => {\r\n    const [_key, path] = queryKey;\r\n    const response = await axObj.get(path);\r\n    return response.data;\r\n};\r\n\r\nexport const updateArticleById = async ({newData}) => {\r\n    const {path , updateData} = newData;\r\n    console.log(`http://localhost:8080${path}`);\r\n    console.log(updateData);\r\n    const response = await axObj.put(path,updateData);\r\n    return response.data;\r\n};\r\n\r\nexport const fetchTrendingArticlesByLimit = async ({ queryKey }) => {\r\n  const [_key, fetchArticlesByLimitPath] = queryKey;\r\n  const response = await axObj.get(fetchArticlesByLimitPath)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesByContent = async ({ queryKey }) => {\r\n  const [_key, Path] = queryKey;\r\n  const response = await axObj.get(Path)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchArticlesTitleByLimit = async ({ queryKey }) => {\r\n  const [_key, Path] = queryKey;\r\n  const response = await axObj.get(Path)\r\n  return response.data;\r\n};\r\n\r\nexport const fetchUserById = async ({queryKey}) => {\r\n  const [_key, data] = queryKey;\r\n  const response = await axObj.get(data);\r\n  return response.data;\r\n};\r\n\r\nexport const loginRequest = async (data) => {\r\n  const {setToken} = useToken();\r\n\r\n  try{\r\n    const response = await axObj.post('/users/login', data)\r\n    const {newToken} = response.data;\r\n    setToken(newToken);\r\n    return response;\r\n  }catch(error){\r\n    console.error(\"Login Failed\",error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}